%Autor: Aarón Martín Castillo Medina.
%Asesora: Dra. Katya Rodríguez Vázquez
%Contacto: katya.rodriguez@iimas.unam.mx; amcm329@hotmail.com

%Este paquete contiene las instrucciones para separar adecuadamente el contenido y 
%que sea visiblemente atractivo sobre todo entre el término de una página y el comienzo 
%de otra.
%Es a su vez un paquete que se emplea en sphinx.sty
%Se admite con esto que el autor de la tesis NO es el creador del paquete mencionado,
%debido a esto se hace hincapié en que la estructura del paquete se deja intacta tal cual
%se ha tomado del documentador Sphinx para Látex.


\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{needspace}[2010/09/12 v1.3d reserve vertical space]

\newcommand{\needspace}[1]{%
  \begingroup
    \setlength{\dimen@}{#1}%
    \vskip\z@\@plus\dimen@
    \penalty -100\vskip\z@\@plus -\dimen@
    \vskip\dimen@
    \penalty 9999%
    \vskip -\dimen@
    \vskip\z@skip % hide the previous |\vskip| from |\addvspace|
  \endgroup
}

\newcommand{\Needspace}{\@ifstar{\@sneedsp@}{\@needsp@}}

\newcommand{\@sneedsp@}[1]{\par \penalty-100\begingroup
  \setlength{\dimen@}{#1}%
  \dimen@ii\pagegoal \advance\dimen@ii-\pagetotal
  \ifdim \dimen@>\dimen@ii
    \break
  \fi\endgroup}

\newcommand{\@needsp@}[1]{\par \penalty-100\begingroup
  \setlength{\dimen@}{#1}%
  \dimen@ii\pagegoal \advance\dimen@ii-\pagetotal
  \ifdim \dimen@>\dimen@ii
    \ifdim \dimen@ii>\z@
      \vfil
    \fi
    \break
  \fi\endgroup}

